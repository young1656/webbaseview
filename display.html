<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <meta charset="UTF-8">
    <title>Display Data</title>
    <link rel = "stylesheet" href = "style.css">
    <style>
        .goBack{
            display: flex;
            align-items: center;
            gap: 40px;
        }
    </style>
</head>
<body>
<div class="container">
    <label id="mode-label" style="position: absolute; top: 20px; left: 20px; color: white;">
        <input type="checkbox" id="mode-toggle" />
        Light Mode
    </label>
    <h2>Your Profile</h2>
    <div id = "profile-data"></div>

    <div class = "goBack">
        <a href="update.html">To update data</a>
        <a href="calorieViewAndAdd.html">Go back</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src = "data.js"></script>
<script src="offlineRedirect.js"></script>

<script>
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("serviceWorker.js")
            .then(() => console.log("Service Worker Registered"))
            .catch((err) => console.error("Service Worker Registration Failed", err));
    }
</script>
<script>
    const toggle = document.getElementById('mode-toggle');
    const body = document.body;

    // Load previous mode if saved
    if (localStorage.getItem('theme') === 'light') {
        body.classList.add('light-mode');
        toggle.checked = true;
    }

    toggle.addEventListener('change', () => {
        body.classList.toggle('light-mode');
        localStorage.setItem('theme', body.classList.contains('light-mode') ? 'light' : 'dark');
    });
</script>
</body>
</html>